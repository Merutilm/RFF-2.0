cmake_minimum_required(VERSION 3.31)
project(RFF)

include_directories(${CMAKE_SOURCE_DIR}/include)
include_directories(${CMAKE_SOURCE_DIR}/extern)
link_directories(${CMAKE_SOURCE_DIR}/lib)

set(CMAKE_CXX_STANDARD 20)
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY  ${CMAKE_SOURCE_DIR}/bin)

add_compile_options(
        -Ofast
        -march=native
        -funroll-loops
)



add_executable(
        RFF
        src/merutilm/rff/ui/Main.cpp
        extern/glad.c
        extern/glad_wgl.c
        src/merutilm/rff/opengl/GLShaderLoader.cpp
        src/merutilm/rff/opengl/GLRenderer.cpp
        src/merutilm/rff/opengl/GLRenderer.h
        src/merutilm/rff/calc/fp_complex_calculator.cpp
        src/merutilm/rff/calc/fp_complex_calculator.h
        src/merutilm/rff/ui/MainWindow.cpp
        src/merutilm/rff/ui/MainWindow.h
        src/merutilm/rff/ui/Constants.h
        src/merutilm/rff/settings/Settings.h
        src/merutilm/rff/settings/CalculationSettings.h
        src/merutilm/rff/settings/RenderSettings.h
        src/merutilm/rff/settings/ShaderSettings.h
        src/merutilm/rff/settings/SlopeSettings.h
        src/merutilm/rff/settings/StripeSettings.h
        src/merutilm/rff/settings/ColorSettings.h
        src/merutilm/rff/settings/PaletteSettings.h
        src/merutilm/rff/settings/FogSettings.h
        src/merutilm/rff/settings/VideoSettings.h
        src/merutilm/rff/settings/BloomSettings.h
        src/merutilm/rff/settings/DataSettings.h
        src/merutilm/rff/settings/ExportSettings.h
        src/merutilm/rff/settings/MpaSettings.h
        src/merutilm/rff/calc/fp_complex.cpp
        src/merutilm/rff/calc/fp_complex.h
        src/merutilm/rff/settings/DecimalizeIterationMethod.h
        src/merutilm/rff/settings/ReferenceCompressionSettings.h
        src/merutilm/rff/settings/ReuseReferenceMethod.h
        src/merutilm/rff/settings/Selectable.h
        src/merutilm/rff/calc/fp_decimal_calculator.cpp
        src/merutilm/rff/calc/fp_decimal_calculator.h
        src/merutilm/rff/calc/fp_decimal.cpp
        src/merutilm/rff/calc/fp_decimal.h
        src/merutilm/rff/ui/GLLoader.cpp
        src/merutilm/rff/ui/GLLoader.h
        src/merutilm/rff/ui/RenderScene.cpp
        src/merutilm/rff/ui/RenderScene.h
        src/merutilm/rff/formula/Perturbator.cpp
        src/merutilm/rff/formula/Perturbator.h
        src/merutilm/rff/ui/GLScene.h
        src/merutilm/rff/ui/GLScene.cpp
        src/merutilm/rff/io/RFFMap.cpp
        src/merutilm/rff/io/RFFMap.h
        src/merutilm/rff/data/Matrix.h
        src/merutilm/rff/opengl/GLRendererIteration.cpp
        src/merutilm/rff/opengl/GLRendererIteration.h
        src/merutilm/rff/settings/ColorSmoothingSettings.h
        src/merutilm/rff/data/ColorFloat.h
        src/merutilm/rff/settings/StripeType.h
        src/merutilm/rff/settings/AnimationSettings.h
        src/merutilm/rff/opengl/GLTimeRenderer.h
        src/merutilm/rff/opengl/GLTimeProvider.h
        src/merutilm/rff/formula/LightMandelbrotReference.cpp
        src/merutilm/rff/formula/LightMandelbrotReference.h
        src/merutilm/rff/parallel/ParallelRenderState.cpp
        src/merutilm/rff/parallel/ParallelRenderState.h
        src/merutilm/rff/calc/rff_math.h
        src/merutilm/rff/mrthy/ArrayCompressionTool.h
        src/merutilm/rff/mrthy/ArrayCompressor.h
        src/merutilm/rff/parallel/ParallelArrayDispatcher.h
        src/merutilm/rff/ui/Utilities.h
        src/merutilm/rff/formula/LightMandelbrotPerturbator.cpp
        src/merutilm/rff/formula/LightMandelbrotPerturbator.h
        src/merutilm/rff/mrthy/LightPA.h
        src/merutilm/rff/mrthy/LightMPATable.h
        src/merutilm/rff/mrthy/MPAPeriod.cpp
        src/merutilm/rff/mrthy/MPAPeriod.h
        src/merutilm/rff/ui/SettingsWindow.cpp
        src/merutilm/rff/ui/SettingsWindow.h
        src/merutilm/rff/ui/SettingsMenu.cpp
        src/merutilm/rff/ui/SettingsMenu.h
        src/merutilm/rff/ui/CallbackFile.cpp
        src/merutilm/rff/ui/CallbackFile.h
        src/merutilm/rff/ui/CallbackFractal.cpp
        src/merutilm/rff/ui/CallbackFractal.h
        src/merutilm/rff/ui/CallbackRender.cpp
        src/merutilm/rff/ui/CallbackRender.h
        src/merutilm/rff/opengl/GLMultipassRenderer.cpp
        src/merutilm/rff/opengl/GLMultipassRenderer.h
        src/merutilm/rff/opengl/GLRendererStripe.cpp
        src/merutilm/rff/opengl/GLRendererStripe.h
        src/merutilm/rff/opengl/GLRendererSlope.cpp
        src/merutilm/rff/opengl/GLRendererSlope.h
        src/merutilm/rff/opengl/GLRendererColor.cpp
        src/merutilm/rff/opengl/GLRendererColor.h
        src/merutilm/rff/opengl/GLRendererBoxBlur.cpp
        src/merutilm/rff/opengl/GLRendererBoxBlur.h
        src/merutilm/rff/opengl/GLRendererGaussianBlur.cpp
        src/merutilm/rff/opengl/GLRendererGaussianBlur.h
        src/merutilm/rff/opengl/GLRendererBloom.cpp
        src/merutilm/rff/opengl/GLRendererBloom.h
        src/merutilm/rff/opengl/GLRendererFog.cpp
        src/merutilm/rff/opengl/GLRendererFog.h
        src/merutilm/rff/opengl/GLRendererAntialiasing.cpp
        src/merutilm/rff/opengl/GLRendererAntialiasing.h
        src/merutilm/rff/ui/CallbackShader.cpp
        src/merutilm/rff/ui/CallbackShader.h
        src/merutilm/rff/locator/MandelbrotLocator.cpp
        src/merutilm/rff/locator/MandelbrotLocator.h
        src/merutilm/rff/ui/CallbackExplore.cpp
        src/merutilm/rff/ui/CallbackExplore.h
        src/merutilm/rff/calc/dex.h
        src/merutilm/rff/formula/DeepMandelbrotReference.cpp
        src/merutilm/rff/formula/DeepMandelbrotReference.h
        src/merutilm/rff/formula/MandelbrotReference.cpp
        src/merutilm/rff/formula/MandelbrotReference.h
        src/merutilm/rff/calc/dex_std.h
        src/merutilm/rff/calc/double_exp_math.h
        src/merutilm/rff/formula/DeepMandelbrotPerturbator.cpp
        src/merutilm/rff/formula/DeepMandelbrotPerturbator.h
        src/merutilm/rff/formula/MandelbrotPerturbator.cpp
        src/merutilm/rff/formula/MandelbrotPerturbator.h
        src/merutilm/rff/mrthy/DeepPA.h
        src/merutilm/rff/mrthy/DeepMPATable.h
        src/merutilm/rff/mrthy/MPATable.h
        src/merutilm/rff/mrthy/PA.h
        src/merutilm/rff/ui/Callback.h
        src/merutilm/rff/mrthy/PAGenerator.h
        src/merutilm/rff/mrthy/LightPAGenerator.cpp
        src/merutilm/rff/mrthy/LightPAGenerator.h
        src/merutilm/rff/mrthy/DeepPAGenerator.cpp
        src/merutilm/rff/mrthy/DeepPAGenerator.h
        src/merutilm/rff/mrthy/LightMPATable.cpp
        src/merutilm/rff/mrthy/DeepMPATable.cpp
        src/merutilm/rff/data/ApproxTableCache.h
        src/merutilm/rff/preset/shader/palette/PalettePresets.h
        src/merutilm/rff/preset/shader/color/ColorPresets.h
        src/merutilm/rff/preset/shader/bloom/BloomPresets.h
        src/merutilm/rff/preset/shader/fog/FogPresets.h
        src/merutilm/rff/preset/shader/slope/SlopePresets.h
        src/merutilm/rff/preset/shader/stripe/StripePresets.h
        src/merutilm/rff/preset/shader/palette/PalettePresets.cpp
        src/merutilm/rff/preset/shader/fog/FogPresets.cpp
        src/merutilm/rff/preset/shader/color/ColorPresets.cpp
        src/merutilm/rff/preset/shader/slope/SlopePresets.cpp
        src/merutilm/rff/preset/shader/stripe/StripePresets.cpp
        src/merutilm/rff/preset/shader/bloom/BloomPresets.cpp
        src/merutilm/rff/preset/Presets.h
        src/merutilm/rff/opengl/GLRendererDisplayer.cpp
        src/merutilm/rff/opengl/GLRendererDisplayer.h
        src/merutilm/rff/preset/resolution/ResolutionPresets.cpp
        src/merutilm/rff/preset/resolution/ResolutionPresets.h
        src/merutilm/rff/preset/render/RenderPresets.cpp
        src/merutilm/rff/preset/render/RenderPresets.h
        src/merutilm/rff/preset/calc/CalculationPresets.cpp
        src/merutilm/rff/preset/calc/CalculationPresets.h
        src/merutilm/rff/ui/CallbackVideo.cpp
        src/merutilm/rff/ui/CallbackVideo.h
        src/merutilm/rff/ui/IOUtilities.cpp
        src/merutilm/rff/ui/IOUtilities.h
        src/merutilm/rff/parallel/BackgroundThreads.h
        src/merutilm/rff/parallel/Backgroundthread.h
        src/merutilm/rff/ui/VideoWindow.cpp
        src/merutilm/rff/ui/VideoWindow.h
        src/merutilm/rff/ui/VideoRenderScene.cpp
        src/merutilm/rff/ui/VideoRenderScene.h
        src/merutilm/rff/opengl/GLRendererIteration2Map.cpp
        src/merutilm/rff/opengl/GLRendererIteration2Map.h
)

target_link_libraries(RFF PRIVATE
        # OpenGL Linker
        opengl32
        # GMP Linker
        gmp
        # Win32 Linker
        comctl32
        # OpenCV Linkers
        libopencv_core4110
        libopencv_imgcodecs4110
        libopencv_imgproc4110
        libopencv_videoio4110
        libopencv_highgui4110
)
